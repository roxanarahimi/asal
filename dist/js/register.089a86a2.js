"use strict";(self["webpackChunkcopa_bee"]=self["webpackChunkcopa_bee"]||[]).push([[685],{9006:function(e,l,r){r.r(l),r.d(l,{default:function(){return al}});var o=r(3396),t=r(7139),a=r(9242);const i=e=>((0,o.dD)("data-v-44f90281"),e=e(),(0,o.Cn)(),e),s={class:"w-100 px-4 text-light",style:{background:"url('/img/loginBack.svg') top center no-repeat","background-size":"cover"}},n=(0,o.uE)('<div class="text-center" data-v-44f90281><img src="/img/Beelogo.png" style="width:160px;" class="my-5" alt="" data-v-44f90281></div><h4 class="my-font my-color text-center mt-4" data-v-44f90281>ثبت نام در کوپابی</h4><div data-v-44f90281><p data-v-44f90281> برای ثبت سفارش در سامانه کوپابی، لازم است ابتدا حساب کاربری ایجاد نمایید. </p><p data-v-44f90281><i class="bi bi-pin-angle-fill text-danger" data-v-44f90281></i> توجه: ثبت مشخصات فردی و بارگذاری مدارک (مانند پروانه زنبورداری یا کارت ملی) به منظور تأیید هویت و تسهیل فرآیند خرید انجام می‌گیرد. پس از بررسی و تأیید اطلاعات توسط کارشناسان فروش کوپابی، امکان نهایی‌سازی و پیگیری سفارش‌ها برای شما فعال خواهد شد. </p><p data-v-44f90281><i class="bi bi-check-square-fill text-success" data-v-44f90281></i> با ثبت‌نام، از پشتیبانی تخصصی، اطلاع‌رسانی محصولات جدید و پیشنهادهای ویژه نیز بهره‌مند می‌شوید. </p></div>',3),c={class:"d-flex justify-content-between mt-5"},d={class:"d-flex pe-4"},u={class:"d-flex"},m={class:"row"},p={key:0,class:"col-12"},v=i((()=>(0,o._)("label",null,"نام و نام خانوادگی",-1))),g=i((()=>(0,o._)("input",{id:"name",type:"text",class:"form-control form-control-sm",required:""},null,-1))),_=i((()=>(0,o._)("div",{id:"nameHelp",class:"form-text error"},null,-1))),f={class:"form-text error m-0"},y={key:1,class:"col-6"},x=i((()=>(0,o._)("label",null,"کد ملی",-1))),b=i((()=>(0,o._)("input",{id:"national_code",type:"text",class:"en form-control form-control-sm",required:""},null,-1))),h=i((()=>(0,o._)("div",{id:"national_codeHelp",class:"form-text error"},null,-1))),w={class:"form-text error m-0"},q={key:2,class:"col-6"},k=i((()=>(0,o._)("label",null,"تاریخ تولد",-1))),D=i((()=>(0,o._)("input",{id:"birth_date",type:"text",class:"en form-control form-control-sm",required:""},null,-1))),H=i((()=>(0,o._)("div",{id:"birth_dateHelp",class:"form-text error"},null,-1))),C={class:"form-text error m-0"},E={key:3,class:"col-12"},S=i((()=>(0,o._)("label",null,"نام شرکت",-1))),A=i((()=>(0,o._)("input",{id:"name",type:"text",class:"form-control form-control-sm",required:""},null,-1))),z=i((()=>(0,o._)("div",{id:"nameHelp",class:"form-text error"},null,-1))),L={class:"form-text error m-0"},R={key:4,id:"operator",class:"col-12"},Y=i((()=>(0,o._)("label",null,"نام و نام خانوادگی نماینده",-1))),K=i((()=>(0,o._)("input",{type:"text",class:"form-control form-control-sm",required:""},null,-1))),T=i((()=>(0,o._)("div",{id:"operatorHelp",class:"form-text error"},null,-1))),V={class:"form-text error m-0"},Z={key:5,class:"col-6"},M=i((()=>(0,o._)("label",null,"شناسه ملی",-1))),U=i((()=>(0,o._)("input",{id:"national_code",type:"text",class:"en form-control form-control-sm",required:""},null,-1))),I=i((()=>(0,o._)("div",{id:"national_codeHelp",class:"form-text error"},null,-1))),P={class:"form-text error m-0"},W={key:6,class:"col-6"},B=i((()=>(0,o._)("label",null,"شماره ثبت",-1))),$=i((()=>(0,o._)("input",{id:"registration_number",type:"text",class:"en form-control form-control-sm",required:""},null,-1))),j=i((()=>(0,o._)("div",{id:"registration_numberHelp",class:"form-text error"},null,-1))),F={class:"form-text error m-0"},G={class:"col-6"},J=i((()=>(0,o._)("label",null,"شماره تلفن",-1))),N=i((()=>(0,o._)("input",{id:"phone",type:"text",class:"en form-control form-control-sm",required:""},null,-1))),O=i((()=>(0,o._)("div",{id:"phoneHelp",class:"form-text error"},null,-1))),Q={class:"form-text error m-0"},X={class:"col-6"},ee=i((()=>(0,o._)("label",null,"شماره موبایل",-1))),le=i((()=>(0,o._)("input",{id:"mobile",type:"number",class:"form-control form-control-sm en",maxLength:"11",required:""},null,-1))),re=i((()=>(0,o._)("div",{id:"mobileHelp",class:"form-text error"},null,-1))),oe={class:"form-text error m-0"},te={class:"col-6"},ae=i((()=>(0,o._)("label",null,"استان",-1))),ie=i((()=>(0,o._)("div",{id:"province_idHelp",class:"form-text error"},null,-1))),se={class:"form-text error m-0"},ne={class:"col-6"},ce=i((()=>(0,o._)("label",null,"شهر",-1))),de=i((()=>(0,o._)("div",{id:"city_idHelp",class:"form-text error"},null,-1))),ue={class:"form-text error m-0"},me={class:"col-12"},pe=i((()=>(0,o._)("label",null,"آدرس",-1))),ve=i((()=>(0,o._)("input",{id:"address",type:"text",class:"form-control form-control-sm",required:""},null,-1))),ge=i((()=>(0,o._)("div",{id:"addressHelp",class:"form-text error"},null,-1))),_e={class:"form-text error m-0"},fe={class:"col-12"},ye=i((()=>(0,o._)("label",null,"کد پستی",-1))),xe=i((()=>(0,o._)("input",{id:"postal_code",type:"text",class:"en form-control form-control-sm",required:""},null,-1))),be=i((()=>(0,o._)("div",{id:"postal_codeHelp",class:"form-text error"},null,-1))),he={class:"form-text error m-0"},we={key:0,class:"row"},qe={class:"col-12 mt-5"},ke=i((()=>(0,o._)("div",null,null,-1))),De={key:1,class:"row"},He={class:"col-12 mt-5"},Ce=i((()=>(0,o._)("div",null,null,-1))),Ee={class:"d-flex justify-content-center mt-4"},Se={class:"modal fade",id:"register-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ae={class:"modal-dialog modal-dialog-centered"},ze={class:"modal-content"},Le=i((()=>(0,o._)("div",{class:"modal-body"},[(0,o._)("p",{class:"text-center"},"اطلاعات شما با موفقیت ثبت شد"),(0,o._)("img",{src:"/img/check.png",alt:""}),(0,o._)("p",{class:"text-center"},"فعال شدن حساب کاربری شما تا 24 ساعت آینده، از طریق پیامک اطلاع رسانی می شود")],-1))),Re={class:"d-flex justify-content-center"};function Ye(e,l,r,i,Ye,Ke){const Te=(0,o.up)("Multiselect"),Ve=(0,o.up)("drop-zone");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[n,(0,o._)("div",c,[(0,o._)("div",d,[(0,o._)("div",{onClick:l[0]||(l[0]=e=>i.typeToggle(1)),id:"real",class:"me-2 registerRadio activeRegisterRadio"}),(0,o._)("p",{onClick:l[1]||(l[1]=e=>i.typeToggle(1)),class:"pointer"},"شخص حقیقی")]),(0,o._)("div",u,[(0,o._)("div",{onClick:l[2]||(l[2]=e=>i.typeToggle(2)),id:"legal",class:"me-2 registerRadio"}),(0,o._)("p",{onClick:l[3]||(l[3]=e=>i.typeToggle(2)),class:"pointer"},"شخص حقوقی")])]),(0,o._)("form",null,[(0,o._)("div",m,["real"==i.type?((0,o.wg)(),(0,o.iD)("div",p,[v,g,_,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.name,(e=>((0,o.wg)(),(0,o.iD)("p",f,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),"real"==i.type?((0,o.wg)(),(0,o.iD)("div",y,[x,b,h,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.national_code,(e=>((0,o.wg)(),(0,o.iD)("p",w,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),"real"==i.type?((0,o.wg)(),(0,o.iD)("div",q,[k,D,H,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.birth_date,(e=>((0,o.wg)(),(0,o.iD)("p",C,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),"legal"==i.type?((0,o.wg)(),(0,o.iD)("div",E,[S,A,z,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.name,(e=>((0,o.wg)(),(0,o.iD)("p",L,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),"legal"==i.type?((0,o.wg)(),(0,o.iD)("div",R,[Y,K,T,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.operator,(e=>((0,o.wg)(),(0,o.iD)("p",V,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),"legal"==i.type?((0,o.wg)(),(0,o.iD)("div",Z,[M,U,I,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.national_code,(e=>((0,o.wg)(),(0,o.iD)("p",P,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),"legal"==i.type?((0,o.wg)(),(0,o.iD)("div",W,[B,$,j,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.registration_number,(e=>((0,o.wg)(),(0,o.iD)("p",F,(0,t.zw)(e),1)))),256))])):(0,o.kq)("",!0),(0,o._)("div",G,[J,N,O,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.phone,(e=>((0,o.wg)(),(0,o.iD)("p",Q,(0,t.zw)(e),1)))),256))]),(0,o._)("div",X,[ee,le,re,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.mobile,(e=>((0,o.wg)(),(0,o.iD)("p",oe,(0,t.zw)(e),1)))),256))]),(0,o._)("div",te,[ae,(0,o.Wm)(Te,{modelValue:i.selectedProvince,"onUpdate:modelValue":l[4]||(l[4]=e=>i.selectedProvince=e),onChange:i.getCities,placeholder:"",dir:"rtl",mode:"single",options:i.provinces,searchable:!0,"create-option":!0},null,8,["modelValue","onChange","options"]),ie,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.province_id,(e=>((0,o.wg)(),(0,o.iD)("p",se,(0,t.zw)(e),1)))),256))]),(0,o._)("div",ne,[ce,(0,o.Wm)(Te,{modelValue:i.selectedCity,"onUpdate:modelValue":l[5]||(l[5]=e=>i.selectedCity=e),placeholder:"",dir:"rtl",mode:"single",options:i.cities,searchable:!0,"create-option":!0},null,8,["modelValue","options"]),de,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.city_id,(e=>((0,o.wg)(),(0,o.iD)("p",ue,(0,t.zw)(e),1)))),256))]),(0,o._)("div",me,[pe,ve,ge,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.address,(e=>((0,o.wg)(),(0,o.iD)("p",_e,(0,t.zw)(e),1)))),256))]),(0,o._)("div",fe,[ye,xe,be,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.errors.postal_code,(e=>((0,o.wg)(),(0,o.iD)("p",he,(0,t.zw)(e),1)))),256))])]),(0,o._)("div",null,["legal"==i.type?((0,o.wg)(),(0,o.iD)("div",we,[(0,o._)("div",qe,[(0,o.Wm)(Ve,{id:"dropZone1",title:"تصویر آخرین روزنامه رسمی",index:1,"has-error":i.img1Error,required:""},null,8,["has-error"]),ke])])):((0,o.wg)(),(0,o.iD)("div",De,[(0,o._)("div",He,[(0,o.Wm)(Ve,{id:"dropZone1",title:"تصویر کارت ملی یا شناسنامه زنبورداری",index:1,"has-error":i.img1Error,required:""},null,8,["has-error"]),Ce])]))]),(0,o._)("div",Ee,[(0,o._)("button",{onClick:l[6]||(l[6]=(0,a.iM)(((...e)=>i.submit&&i.submit(...e)),["prevent"])),class:"btn-orange my-font"},"ثبت")])])]),(0,o._)("div",Se,[(0,o._)("div",Ae,[(0,o._)("div",ze,[Le,(0,o._)("div",Re,[(0,o._)("button",{type:"button",class:"btn-black-rect my-3",onClick:l[7]||(l[7]=(...e)=>i.reload&&i.reload(...e)),style:{width:"100px",height:"40px"},"data-bs-dismiss":"modal"},"تائید ")])])])])],64)}r(560);var Ke=r(4870);const Te=["id"],Ve=(0,o._)("i",{class:"bi bi-x"},null,-1),Ze=[Ve],Me=["id"],Ue=["src"],Ie={class:"position-relative"},Pe={class:"label my-font"},We={class:"text-center mx-auto",style:{width:"calc(100% - 80px)"}},Be={style:{position:"absolute",right:"5px",top:"0px"}},$e={key:0,src:"/img/check1.png",alt:""},je={key:1,src:"/img/upload.png",alt:""},Fe=["id"],Ge=["id"],Je=(0,o._)("div",{id:"image1Help",class:"form-text error"},null,-1);function Ne(e,l,r,i,s,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{id:"dropAreaContainer"+e.$props.index,class:(0,t.C_)(["dropAreaContainer position-relative",{dropAreaContainerHasError:i.hasError}]),onDragover:l[2]||(l[2]=(0,a.iM)((()=>{}),["prevent"])),onDrop:l[3]||(l[3]=(0,a.iM)((e=>i.fileChanged(e,"drop")),["prevent"]))},[i.src?((0,o.wg)(),(0,o.iD)("div",{key:0,onClick:l[0]||(l[0]=(...e)=>i.clearImg&&i.clearImg(...e)),id:"close",class:"pointer close bg-danger rounded rounded-circle position-absolute",style:{"font-size":"17px","z-index":"100",top:"13px",right:"100px",width:"20px",height:"20px"}},Ze)):(0,o.kq)("",!0),(0,o._)("div",{id:"dropArea"+e.$props.index,onClick:l[1]||(l[1]=e=>i.clickLabel(e)),class:(0,t.C_)(["dropArea text-center p-3 position-relative",{dropAreaHasError:i.hasError}])},[i.src?((0,o.wg)(),(0,o.iD)("img",{key:0,src:i.src,class:"src img-fluid",style:{"border-radius":"17px",width:"150px"},alt:""},null,8,Ue)):(0,o.kq)("",!0),(0,o._)("div",Ie,[(0,o._)("div",Pe,[(0,o._)("div",We,(0,t.zw)(e.$props.title),1),(0,o._)("div",Be,[i.src?((0,o.wg)(),(0,o.iD)("img",$e)):((0,o.wg)(),(0,o.iD)("img",je))])])])],10,Me)],42,Te),(0,o._)("input",{style:{display:"none !important"},onChange:l[4]||(l[4]=(...e)=>i.fileChanged&&i.fileChanged(...e)),id:"dr"+e.$props.index,type:"file"},null,40,Fe),(0,o.wy)((0,o._)("input",{id:"img"+r.index,type:"hidden","onUpdate:modelValue":l[5]||(l[5]=e=>i.src=e),required:""},null,8,Ge),[[a.nr,i.src]]),Je])}var Oe={name:"DropZone",props:["title","index","hasError"],setup(e){const l=()=>{null==r.value&&document.querySelector("#dr"+e.index).click()},r=(0,Ke.iH)(),t=(0,o.Fl)((()=>e.hasError));(0,o.bv)((()=>{t.value=e.hasError}));const a=(l,o)=>{if("drop"==o)var t=l.dataTransfer.files[0];else t=document.querySelector("#dr"+e.index).files[0];if(t){document.querySelector("#dropAreaContainer"+e.index).classList.remove("dropAreaContainerHasError"),document.querySelector("#dropArea"+e.index).classList.remove("dropAreaHasError");var a=new FileReader;a.readAsDataURL(t),a.onload=function(){r.value=a.result},a.onerror=function(e){console.log("Error: ",e)}}},i=()=>{document.querySelector("#dr"+e.index).value="",r.value=null,e.hasError&&(document.querySelector("#dropAreaContainer"+e.index).classList.add("dropAreaContainerHasError"),document.querySelector("#dropArea"+e.index).classList.add("dropAreaHasError"))};return{clickLabel:l,fileChanged:a,src:r,clearImg:i,hasError:t}}},Qe=r(89);const Xe=(0,Qe.Z)(Oe,[["render",Ne]]);var el=Xe,ll=r(65),rl=r(7091),ol={name:"Profile",components:{dropZone:el,Multiselect:rl.Z},setup(){const e=(0,ll.oR)(),l=(0,Ke.iH)([]),r=(0,Ke.iH)(),t=(0,Ke.iH)(!1),a=(0,Ke.iH)(!1),i=(0,Ke.iH)([]),s=(0,Ke.iH)([]),n=(0,Ke.iH)({}),c=(0,Ke.iH)({}),d=e=>{l.value=[];let o=document.querySelectorAll("[required]");o.forEach((e=>{e.classList.remove("hasError"),e.value="",t.value=!1,a.value=!1})),"real"==r.value&&2==e?(document.querySelectorAll(".registerRadio").forEach((e=>{e.classList.remove("activeRegisterRadio")})),document.querySelector("#legal").classList.add("activeRegisterRadio"),r.value="legal"):"legal"==r.value&&1==e&&(document.querySelectorAll(".registerRadio").forEach((e=>{e.classList.remove("activeRegisterRadio")})),document.querySelector("#real").classList.add("activeRegisterRadio"),r.value="real")},u=()=>{l.value=[];let o=0,i=document.querySelectorAll("[required]");if(i.forEach((e=>{""===e.value?(e.classList.add("hasError"),o++):e.classList.remove("hasError"),document.querySelector("#img1")?.classList.contains("hasError")?t.value=!0:t.value=!1,document.querySelector("#img2")?.classList.contains("hasError")?a.value=!0:a.value=!1})),l.value["mobile"]=[],l.value["national_code"]=[],l.value["postal_code"]=[],""!=document.querySelector("#national_code").value){let e,o;"real"==r.value?(e=10,o="کد ملی"):(e=11,o="شناسه ملی"),document.querySelector("#national_code").value.length!=e&&l.value.national_code.push(o+" باید "+e+" رقم باشد.")}if(""!=document.querySelector("#postal_code").value&&10!=document.querySelector("#postal_code").value.length&&l.value.postal_code.push("کد پستی باید 10 رقم باشد"),""!=document.querySelector("#mobile").value&&(document.querySelector("#mobile").value.startsWith("09")||l.value.mobile.push("شماره موبایل باید با 09 شروع شود"),11!=document.querySelector("#mobile").value.length&&l.value.mobile.push("شماره موبایل باید 11 رقم باشد")),0===o){let o={name:document.querySelector("#name").value,national_code:document.querySelector("#national_code").value,phone:document.querySelector("#phone").value,mobile:document.querySelector("#mobile").value,city_id:c.value.id,address:document.querySelector("#address").value,postal_code:document.querySelector("#postal_code").value,scope:"user",type:r.value};"legal"==r.value&&(o["registration_number"]=document.querySelector("#registration_number").value,o["operator"]=document.querySelector("#operator").value,o["img1"]=document.querySelector("#img1").value),axios.post(e.state.panelUrl+"/api/user/register",o).then((e=>{let l=new bootstrap.Modal(document.getElementById("register-modal"));l.show()})).catch((e=>{l.value["mobile"]=[],422===e.response.status&&(l.value["mobile"]=e.response.data.mobile,l.value["national_code"]=e.response.data.national_code,l.value["registration_number"]=e.response.data.registration_number),console.error(e)}))}};(0,o.bv)((()=>{r.value="real",p()}));const m=()=>{window.location.reload()},p=()=>{axios.get(e.state.panelUrl+"/api/province").then((e=>{s.value=e.data,s.value.forEach((e=>{e.value={id:e.id,name:e.title,cities:e.cities},e.label=e.title})),n.value=s.value[0]})).then((()=>{v()})).catch((e=>{console.error(e)}))},v=()=>{setTimeout((()=>{if(i.value=[],n.value){let e=n.value.cities;e.forEach((e=>{e.value={id:e.id,name:e.title},e.label=e.title})),i.value=e}}),1e3)};return{type:r,typeToggle:d,submit:u,errors:l,img1Error:t,img2Error:a,store:e,reload:m,cities:i,provinces:s,selectedProvince:n,selectedCity:c,getCities:v,getProvinces:p}}};const tl=(0,Qe.Z)(ol,[["render",Ye],["__scopeId","data-v-44f90281"]]);var al=tl}}]);
//# sourceMappingURL=register.089a86a2.js.map