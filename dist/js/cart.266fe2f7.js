"use strict";(self["webpackChunkcopa_bee"]=self["webpackChunkcopa_bee"]||[]).push([[511],{8216:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var s=a(3396),c=a(7139);const l=e=>((0,s.dD)("data-v-41f2332a"),e=e(),(0,s.Cn)(),e),o={class:"w-100 px-4 text-light",style:{background:"url('/img/loginBack.svg') top center no-repeat","background-size":"cover"}},n=l((()=>(0,s._)("h2",{class:"my-color mt-5 text-center my-font"},"سبد خرید",-1))),i={key:0,class:"px-4 mt-5 my-font",style:{}},d={class:"mb-3"},r={class:"d-flex justify-content-between"},m={key:0},u={key:1},p=l((()=>(0,s._)("div",null,[(0,s._)("img",{src:"/img/minus.png",alt:""})],-1))),y=l((()=>(0,s._)("div",{class:"text-center"},[(0,s._)("img",{src:"/img/hr.png",class:"w-100",alt:""})],-1))),v={key:1,class:"my-5"},g={class:"d-flex justify-content-center my-font my-5"},_=l((()=>(0,s._)("i",{class:"bi bi-plus"},null,-1))),b={key:2},h={class:"my-border mt-5 p-3 text-center"},f={class:"d-flex justify-content-between mt-5"},k=l((()=>(0,s._)("p",{class:"mb-0 my-color mt-2"},"نحوه تسویه",-1))),w={class:"d-flex"},x={class:"d-flex mt-5 justify-content-center"},z={class:"modal fade",id:"confirm-order-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},R={class:"modal-dialog modal-dialog-centered"},D={class:"modal-content"},P=l((()=>(0,s._)("div",{class:"modal-body text-center"},[(0,s._)("p",{class:"text-center"},"سفارش شما با موفقیت ثبت شد"),(0,s._)("img",{src:"/img/check.png",alt:""}),(0,s._)("p",{class:"text-center"},"مراحل سفارش بوسیله پیام کوتاه به اطلاع شما خواهد رسید.")],-1))),C={class:"d-flex justify-content-center"};function q(e,t,a,l,q,S){const j=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",o,[n,l.data?.items?((0,s.wg)(),(0,s.iD)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.data.items,(e=>((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",r,[(0,s._)("h5",null,[(0,s.Uk)((0,c.zw)(e.product.category.title)+" "+(0,c.zw)(e.product.title)+" "+(0,c.zw)(e.size.size)+" "+(0,c.zw)(e.quantity)+" ",1),"فله"==e.size.size?((0,s.wg)(),(0,s.iD)("span",m,"کیلو")):((0,s.wg)(),(0,s.iD)("span",u,"بسته"))]),p]),y])))),256))])):((0,s.wg)(),(0,s.iD)("div",v,"سبد شما خالی است")),(0,s._)("div",g,[(0,s.Wm)(j,{to:"/products",class:"btn-orangePill text-black"},{default:(0,s.w5)((()=>[_,(0,s.Uk)("افزودن محصول ")])),_:1})]),l.data?.items?((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("div",h,[(0,s._)("h4",null," مبلغ نهایی: "+(0,c.zw)(l.data?.amount)+" ریال",1),(0,s._)("h4",null," تخفیف ریالی: "+(0,c.zw)(l.data?.off||0)+" ریال",1)]),(0,s._)("div",f,[k,(0,s._)("div",w,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>l.paymentToggle(1)),id:"cash",class:(0,c.C_)(["paymentRadio me-3",{activePaymentRadio:"cash"==l.pay}]),style:{width:"80px !important"}},"نقدی ",2),(0,s._)("button",{onClick:t[1]||(t[1]=e=>l.paymentToggle(2)),id:"check",class:(0,c.C_)(["paymentRadio",{activePaymentRadio:"check"==l.pay}]),style:{width:"80px !important"}},"چک ",2)])]),(0,s._)("div",x,[(0,s._)("button",{class:"btn-orange2",onClick:t[2]||(t[2]=(...e)=>l.confirmOrder&&l.confirmOrder(...e))},"ثبت سفارش")])])):(0,s.kq)("",!0)]),(0,s._)("div",z,[(0,s._)("div",R,[(0,s._)("div",D,[P,(0,s._)("div",C,[(0,s._)("button",{type:"button",class:"btn-black-rect my-3",onClick:t[3]||(t[3]=(...e)=>l.reload&&l.reload(...e)),style:{width:"100px",height:"40px"},"data-bs-dismiss":"modal"},"تائید")])])])])],64)}var S=a(4870),j=a(65),L={name:"Profile",setup(){const e=(0,j.oR)(),t=(0,S.iH)(),a=(0,S.iH)([]);(0,s.bv)((()=>{l()}));const c=s=>{"cash"==t.value&&2==s?(document.querySelector(".activePaymentRadio").classList.remove("activePaymentRadio"),document.querySelector("#check").classList.add("activePaymentRadio"),t.value="check"):"check"==t.value&&1==s&&(document.querySelector(".activePaymentRadio").classList.remove("activePaymentRadio"),document.querySelector("#cash").classList.add("activePaymentRadio"),t.value="cash"),axios.post(e.state.panelUrl+"/api/order/"+a.value.id,{payment:t.value,status:"cart",payed:0}).then((e=>{console.log(e)})).catch((e=>console.error(e)))},l=()=>{axios.get(e.state.panelUrl+"/api/cart/"+JSON.parse(localStorage.getItem("user")).id).then((e=>{a.value=e.data})).then((()=>{console.log(a.value),t.value=a.value.pay})).catch((e=>{console.error(e)}))},o=()=>{axios.post(e.state.panelUrl+"/api/order/"+a.value.id,{payment:t.value,status:"in-progress",payed:0}).then((e=>{let t=new bootstrap.Modal(document.getElementById("confirm-order-modal"));t.show()})).catch((e=>console.error(e)))},n=()=>{window.location="/orders"};return{paymentToggle:c,pay:t,store:e,getData:l,data:a,confirmOrder:o,reload:n}}},U=a(89);const H=(0,U.Z)(L,[["render",q],["__scopeId","data-v-41f2332a"]]);var O=H}}]);
//# sourceMappingURL=cart.266fe2f7.js.map