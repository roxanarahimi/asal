{"version":3,"file":"js/cart.7495b28e.js","mappings":"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","sources":["webpack://copa-bee/./src/views/Cart.vue","webpack://copa-bee/./src/views/Cart.vue?27b4"],"sourcesContent":["<template>\r\n  <div class=\"w-100 px-4 text-light \"\r\n       style=\"background: url('/img/loginBack.svg') top center no-repeat; background-size: cover\">\r\n\r\n    <h2 class=\"my-color mt-5 text-center my-font\">سبد خرید</h2>\r\n\r\n    <div v-if=\"data?.items?.length\" class=\"px-4 mt-5 my-font\" style=\"\">\r\n      <div v-for=\"item in data.items\" class=\"mb-3\">\r\n        <div class=\"d-flex justify-content-between\">\r\n          <h5>{{ item.product.category.title }}\r\n            {{ item.product.title }}\r\n            {{ item.size.size }}\r\n            {{ item.quantity }}\r\n            <span v-if=\"item.size.size == 'فله'\">کیلو</span>\r\n            <span v-else>بسته</span>\r\n          </h5>\r\n          <div>\r\n            <img @click=\"showRemoveItemModal(item)\" src=\"/img/minus.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <img src=\"/img/hr.png\" class=\"w-100\" alt=\"\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"my-5\" >سبد شما خالی است</div>\r\n\r\n    <div class=\"d-flex justify-content-center my-font my-5\">\r\n      <router-link to=\"/products\" class=\"btn-orangePill text-black\">\r\n        <i class=\"bi bi-plus\"></i>افزودن محصول\r\n      </router-link>\r\n    </div>\r\n\r\n\r\n\r\n    <div v-if=\"data?.items?.length\">\r\n      <div class=\"my-border mt-5 p-3 text-center \">\r\n      <h4> مبلغ نهایی: {{ data?.amount }} ریال</h4>\r\n      <h4> تخفیف ریالی: {{ data?.off || 0 }} ریال</h4>\r\n    </div>\r\n\r\n      <div class=\"d-flex justify-content-between mt-5\">\r\n\r\n        <p class=\"mb-0 my-color mt-2\">نحوه تسویه</p>\r\n\r\n        <div class=\"d-flex\">\r\n          <button @click=\"paymentToggle(1)\" id=\"cash\" class=\"paymentRadio  me-3\"\r\n                  :class=\"{'activePaymentRadio': pay=='cash'}\" style=\"width: 80px !important\">نقدی\r\n          </button>\r\n          <button @click=\"paymentToggle(2)\" id=\"check\" class=\"paymentRadio\" :class=\"{'activePaymentRadio': pay=='check'}\"\r\n                  style=\"width: 80px !important\">چک\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"d-flex mt-5 justify-content-center\">\r\n        <button class=\"btn-orange2\" @click=\"confirmOrder\">ثبت سفارش</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal -->\r\n  <div  class=\"modal fade\"  id=\"remove-order-item-modal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content\">\r\n        <!--          <button type=\"button\" class=\"btn-close m-2 me-auto\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>-->\r\n        <div class=\"modal-body text-center\">\r\n\r\n          <p  class=\"text-center\" >\r\n            (\r\n            {{ remove?.product?.category.title }}\r\n            {{ remove?.product?.title }}\r\n            {{ remove?.size?.size }}\r\n            {{ remove?.quantity }}\r\n            <span v-if=\"remove?.size?.size == 'فله'\">کیلو</span>\r\n            <span v-else>بسته</span>\r\n            )\r\n          </p>\r\n<!--          <img src=\"/img/check.png\" alt=\"\">-->\r\n          <p class=\"text-center\">حذف شود؟</p>\r\n        </div>\r\n        <div class=\"d-flex justify-content-around\">\r\n          <button type=\"button\" class=\"btn-orange-rect my-3\" style=\"width: 100px; height:40px\" data-bs-dismiss=\"modal\">انصراف</button>\r\n          <button type=\"button\" class=\"btn-black-rect my-3\" @click=\"removeOrderItem(remove?.id)\" style=\"width: 100px; height:40px\" data-bs-dismiss=\"modal\">تائید</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Profile\",\r\n  setup() {\r\n    const store = useStore()\r\n    const pay = ref();\r\n    const data = ref([]);\r\n    const remove = ref({});\r\n\r\n    onMounted(() => {\r\n      getData();\r\n\r\n\r\n    })\r\n    const paymentToggle = (index) => {\r\n      if (pay.value == 'cash' && index == 2) {\r\n        document.querySelector('.activePaymentRadio').classList.remove('activePaymentRadio');\r\n        document.querySelector('#check').classList.add('activePaymentRadio');\r\n        pay.value = 'check'\r\n      } else if (pay.value == 'check' && index == 1) {\r\n        document.querySelector('.activePaymentRadio').classList.remove('activePaymentRadio');\r\n        document.querySelector('#cash').classList.add('activePaymentRadio');\r\n        pay.value = 'cash'\r\n      }\r\n\r\n      axios.post(store.state.panelUrl + '/api/order/' + data.value.id, {\r\n        payment: pay.value,\r\n        status: 'cart',\r\n        payed: 0,\r\n      }).then((response) => {\r\n        console.log(response);\r\n      }).catch((error) => console.error(error));\r\n\r\n    }\r\n    const getData = () => {\r\n      axios.get(store.state.panelUrl + '/api/cart/' + JSON.parse(localStorage.getItem('user')).id)\r\n          .then((response) => {\r\n            data.value = response.data;\r\n          })\r\n          .then(() => {\r\n            console.log(data.value)\r\n            pay.value = data.value.pay;\r\n          }).catch((error) => {\r\n        console.error(error)\r\n      })\r\n    }\r\n    const confirmOrder=() =>{\r\n      axios.post(store.state.panelUrl + '/api/order/' + data.value.id, {\r\n        payment: pay.value,\r\n        status: 'in-progress',\r\n        payed: 0,\r\n      }).then((response)=>{\r\n        let myModal = new bootstrap.Modal(document.getElementById('confirm-order-modal'))\r\n        myModal.show();\r\n      }).catch((error) => console.error(error));\r\n\r\n    }\r\n    const reload = ()=>{\r\n      window.location = '/orders';\r\n    }\r\n    const showRemoveItemModal = (item)=>{\r\n      remove.value = item;\r\n      console.log(item)\r\n        let myModal = new bootstrap.Modal(document.getElementById('remove-order-item-modal'))\r\n        myModal.show();\r\n\r\n    }\r\n    const removeOrderItem = (id)=>{\r\n      axios.post(store.state.panelUrl+'/api/item/remove',{\r\n        order_item_id: id\r\n      })\r\n      .then((response)=>{\r\n        getData();\r\n      }).catch((error)=>{console.error(error)})\r\n\r\n    }\r\n    return {paymentToggle, pay, store, getData, data, confirmOrder, reload , remove,showRemoveItemModal, removeOrderItem }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.modal-dialog{\r\n  width: 350px !important;\r\n  margin: 0 auto !important;\r\n  text-align: center;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=3beeb07e&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=3beeb07e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3beeb07e\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","alt","id","tabindex","type","_hoisted_1","_hoisted_2","$setup","data","items","length","_createElementBlock","_hoisted_3","_Fragment","_renderList","item","_hoisted_4","_hoisted_5","product","category","title","_toDisplayString","size","quantity","_hoisted_6","_hoisted_7","onClick","$event","showRemoveItemModal","_hoisted_9","_hoisted_10","_hoisted_11","_createVNode","_component_router_link","to","_hoisted_12","_hoisted_13","_hoisted_14","amount","off","_hoisted_15","_hoisted_16","_hoisted_17","_cache","paymentToggle","_normalizeClass","pay","_hoisted_18","args","confirmOrder","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","remove","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","removeOrderItem","name","setup","store","useStore","ref","onMounted","getData","index","value","document","querySelector","classList","add","axios","post","state","panelUrl","payment","status","payed","then","response","console","log","catch","error","get","JSON","parse","localStorage","getItem","myModal","bootstrap","Modal","getElementById","show","reload","window","location","order_item_id","__exports__","render"],"sourceRoot":""}