{"version":3,"file":"js/login.52a843e6.js","mappings":"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","sources":["webpack://copa-bee/./src/views/Login.vue","webpack://copa-bee/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"w-100 my-padding text-light\" style=\"background: url('/img/loginBack.svg') top center no-repeat; background-size: cover\">\r\n\r\n    <div class=\"text-center\">\r\n      <img src=\"/img/Beelogo.png\" style=\"width: 160px\" class=\"my-5\" alt=\"\">\r\n    </div>\r\n    <h3 class=\"my-color my-3\">ورود</h3>\r\n\r\n    <div id=\"mobileForm\" class=\"mb-3\">\r\n      <label for=\"mobile\" class=\"text-light mb-2 pointer\">شماره تماس</label>\r\n\r\n      <div class=\"d-flex bg-light\">\r\n        <button class=\"btn-code\" @click=\"getCode\">دریافت کد</button>\r\n        <input id=\"mobile\" type=\"number\" maxlength=\"11\" minlength=\"11\" class=\"en form-control bg-transparent border-0\">\r\n      </div>\r\n      <div class=\"text-start mt-2\">\r\n        <li class=\"error\" v-for=\"item in message\"><span >{{ item }}</span></li>\r\n      </div>\r\n      <p class=\"my-5 text-center py-5\">حساب کاربری ندارید؟\r\n        <br>\r\n        <router-link to=\"/register\" class=\"my-color\">ثبت نام</router-link> کنید</p>\r\n\r\n    </div>\r\n\r\n\r\n    <!--    -->\r\n    <div id=\"codeForm\" class=\"row pb-4 d-none\">\r\n      <p class=\"text-light mt-5\">کد تایید را وارد نمایید</p>\r\n      <div class=\"d-flex justify-content-center mb-3\" dir=\"ltr\">\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code1\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code2\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\"  minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code3\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code4\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"text-start my-2\">\r\n        <li class=\"error\" v-for=\"item in message\"><span >{{ item }}</span></li>\r\n      </div>\r\n\r\n      <small id=\"time-section\" v-show=\"time != '00'\" class=\"d-flex\">\r\n        <span id=\"resend\">دریافت مجدد کد در</span>\r\n        <span id=\"time\" style=\"width: 30px !important; text-align: left\" class=\"my-color time\"></span>\r\n        :00\r\n      </small>\r\n      <div v-if=\"time == '00'\" class=\"d-flex justify-content-center\">\r\n        <button class=\"btn-orange2\">دریافت مجدد کد</button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n   <!--    <div dir=\"ltr\">-->\r\n<!--      <div class=\"d-flex mb-2\">-->\r\n<!--        <img src=\"/img/phoneLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">-->\r\n<!--        <small>09300432833</small>-->\r\n<!--      </div>-->\r\n<!--      <div class=\"d-flex mb-2\">-->\r\n<!--        <img src=\"/img/emailLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">-->\r\n<!--        <small>copabee.example@gmail.com</small>-->\r\n<!--      </div>-->\r\n<!--      <div class=\"d-flex mb-2\">-->\r\n<!--        <img src=\"/img/whatsappLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">-->\r\n<!--        <small>09300432833</small>-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  setup() {\r\n    onMounted(()=>{\r\n      // localStorage.clear();\r\n    });\r\n    const store = useStore();\r\n    const scope= ref('user');\r\n    const errors= ref([]);\r\n    const message= ref([]);\r\n    const mobile = ref();\r\n    const time = ref(59);\r\n    onMounted(() => {\r\n      document.getElementById(\"code1\").value = '';\r\n      document.getElementById(\"code2\").value = '';\r\n      document.getElementById(\"code3\").value = '';\r\n      document.getElementById(\"code4\").value = '';\r\n    });\r\n    const getCode = () => {\r\n      message.value = [];\r\n      mobile.value = document.getElementById('mobile').value;\r\n      if(mobile.value.length === 0){\r\n        message.value.push('لطفا شماره موبایل را وارد کنید');\r\n      }else{\r\n        if (mobile.value.length  < 11){\r\n          message.value.push('شماره موبایل باید 11 رقم باشد');\r\n        }\r\n        if(!mobile.value.startsWith('09')){\r\n          message.value.push('شماره موبایل باید با 09 شروع شود');\r\n        }\r\n      }\r\n\r\n\r\n      if(mobile.value.length === 11 && mobile.value.startsWith('09')){\r\n        message.value = [];\r\n        axios.post('https://panel.asal.webagent.ir/api/otp/mobile', {\r\n          mobile: document.getElementById('mobile').value,\r\n          scope: 'user'\r\n        }, {progress: false})\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                document.getElementById('mobileForm').classList.add('d-none');\r\n                document.getElementById('codeForm').classList.remove('d-none');\r\n              }else{\r\n                // message.value = res;\r\n                console.log(res)\r\n              }\r\n            })\r\n            .then(()=>{\r\n              document.getElementById('resend').setAttribute('disabled', 'disabled')\r\n              counter();\r\n              setTimeout(()=>{\r\n                document.getElementById('resend').removeAttribute('disabled')\r\n              },60000)\r\n            })\r\n            .catch((err) => {\r\n              console.error(err)\r\n              message.value = err.response.data.message;\r\n            })\r\n      }\r\n\r\n    }\r\n\r\n    const editNumber = ()=>{\r\n      location.reload();\r\n    }\r\n    const resend = ()=>{\r\n\r\n      getCode();\r\n    }\r\n    const counter=()=> {\r\n\r\n      var distance = 59;\r\n      var x = null;\r\n      clearInterval(x);\r\n      time.value = 0;\r\n      x = setInterval(function () {\r\n\r\n        // document.getElementById(\"time\").classList.remove('d-none');\r\n\r\n\r\n        distance--;\r\n        time.value = distance;\r\n        var t = time.value  < 10 ? \"0\" : \"\";\r\n        document.getElementById(\"time\").innerHTML = t + time.value ;\r\n\r\n        if (distance < 1) {\r\n          clearInterval(x);\r\n          // document.getElementById(\"time\").classList.add('d-none');\r\n\r\n        }\r\n      }, 1000);\r\n\r\n      time.value = 0;\r\n      // if(time.value === 0){\r\n      //   document.getElementById('resend').removeAttribute('disabled')\r\n      // }\r\n\r\n    }\r\n    const autoTab = (e) => {\r\n      let code =\r\n          document.getElementById(\"code1\").value +\r\n          document.getElementById(\"code2\").value +\r\n          document.getElementById(\"code3\").value +\r\n          document.getElementById(\"code4\").value;\r\n\r\n      if (code.length === 4) {\r\n\r\n        axios.post('https://panel.asal.webagent.ir/api/mobile/login', {\r\n          mobile: document.getElementById('mobile').value,\r\n          scope: 'user',\r\n          password: document.getElementById(\"code1\").value + document.getElementById(\"code2\").value + document.getElementById(\"code3\").value + document.getElementById(\"code4\").value\r\n        })\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                localStorage.setItem('user',JSON.stringify(res.data.user))\r\n                localStorage.setItem('token',JSON.stringify(res.data.access_token))\r\n                localStorage.setItem('expire',JSON.stringify(res.data.expire));\r\n                window.location = '/profile';\r\n              }else{\r\n                console.log(res)\r\n              }\r\n            }).catch((err) => {\r\n          message.value = err.response.data.message;\r\n        })\r\n\r\n      }\r\n\r\n      if (e.target.value.length === e.target.maxLength) {\r\n        e.target.parentElement.nextElementSibling?.firstChild?.focus();\r\n      }\r\n    }\r\n\r\n    onMounted(()=>{\r\n      console.log(localStorage);\r\n\r\n    })\r\n    return {\r\n      autoTab, getCode, scope, message, mobile, counter, time, resend, editNumber, errors, store,\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=e5dfff8a\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","alt","id","for","type","maxlength","minlength","dir","_hoisted_25","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","args","$setup","getCode","_hoisted_7","_hoisted_8","_Fragment","_renderList","message","item","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_createVNode","_component_router_link","to","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","onInput","$event","autoTab","minLength","maxLength","min","max","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","time","_hoisted_24","_hoisted_26","name","setup","onMounted","store","useStore","scope","ref","errors","mobile","document","getElementById","value","length","push","startsWith","axios","post","progress","then","res","status","classList","add","remove","console","log","setAttribute","counter","setTimeout","removeAttribute","catch","err","error","response","data","editNumber","location","reload","resend","distance","x","clearInterval","setInterval","t","innerHTML","e","code","password","localStorage","setItem","JSON","stringify","user","access_token","expire","window","target","parentElement","nextElementSibling","firstChild","focus","__exports__","render"],"sourceRoot":""}