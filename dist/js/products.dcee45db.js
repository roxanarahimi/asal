"use strict";(self["webpackChunkcopa_bee"]=self["webpackChunkcopa_bee"]||[]).push([[893],{5387:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(3396),c=a(7139),d=a(9242);const o=e=>((0,l.dD)("data-v-52f86aa3"),e=e(),(0,l.Cn)(),e),i={class:"w-100 px-4 text-light",style:{background:"url('/img/loginBack.svg') top center no-repeat","background-size":"cover"}},s=(0,l.uE)('<p class="mb-0 mt-5" data-v-52f86aa3> نام شرکت: ایران گستر شرق</p><p class="mb-0" data-v-52f86aa3> کاربر گرامی: محمد احمدی</p><p class="mb-5" data-v-52f86aa3> کد مشتری: 152458</p><div class="d-flex justify-content-between" data-v-52f86aa3><p class="mb-0 my-color" data-v-52f86aa3>استعلام اعتبار خرید: </p><div class="d-flex" data-v-52f86aa3><div class="px-2" data-v-52f86aa3><img src="/img/radioGreen.png" width="18px" alt="" data-v-52f86aa3></div><p data-v-52f86aa3>بیش از 50% اعتبار</p></div></div><div class="d-flex justify-content-between mb-3" data-v-52f86aa3><p class="mb-0 my-color" data-v-52f86aa3>مانده اعتبار ریالی: </p><p data-v-52f86aa3>1.000.000.000 ریال</p></div>',5),r={class:"d-grid mb-5",style:{height:"75px",background:"url('/img/devprofile.png') top center no-repeat","background-size":"cover"}},u=o((()=>(0,l._)("h3",{class:"my-color align-self-center"},"سفارش کالا",-1))),n={class:"d-flex justify-content-start align-self-end"},p=["id","onClick"],v={class:"",style:{height:"110px"}},g={key:0,class:"d-flex justify-content-start"},m=["onClick"],y=["id","onClick"],f={key:1,class:"d-flex justify-content-between mt-4"},k=["onClick"],z=["id","onClick"],b={style:{height:"82px"}},w={key:0,class:"d-flex",style:{"font-size":"13px"}},S=o((()=>(0,l._)("small",{class:"my-color"},"قیمت: ",-1))),_=o((()=>(0,l._)("small",null,"ریال ",-1))),C={key:1,class:"row"},h={key:0},q={key:1},x={class:"col-6 d-flex"},D={key:0,class:"mb-0"},P={key:1,class:"mb-0"},R={class:"d-flex justify-content-between mt-5"},L={key:0,class:"modal fade",id:"add-to-cart-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},E={class:"modal-dialog modal-dialog-centered"},T={class:"modal-content"},A={class:"modal-body"},H={key:0,class:"text-center"},j={key:1,class:"text-center"},U=o((()=>(0,l._)("img",{src:"/img/check.png",alt:""},null,-1))),Y=o((()=>(0,l._)("p",{class:"text-center"},"با موفقیت به سبد خرید افزوده شد",-1))),B={class:"d-flex justify-content-center"};function I(e,t,a,o,I,K){const F=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[s,(0,l._)("div",r,[u,(0,l._)("div",n,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.data,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"productCat",id:"category"+e.id,onClick:t=>o.categoryToggle(e)},(0,c.zw)(e.title),9,p)))),128))])]),(0,l._)("div",v,[o.selectedCategory?((0,l.wg)(),(0,l.iD)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.selectedCategory.products,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"d-flex pe-4"},[(0,l._)("p",{class:"me-2 pointer",onClick:t=>o.productToggle(e)},(0,c.zw)(e.title),9,m),(0,l._)("div",{class:"productRadio",id:"product"+e.id,onClick:t=>o.productToggle(e)},null,8,y)])))),128))])):(0,l.kq)("",!0),o.selectedProduct?((0,l.wg)(),(0,l.iD)("div",f,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.selectedProduct.sizes,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"d-flex pe-2"},[(0,l._)("p",{class:"me-2 pointer",onClick:t=>o.productSizeToggle(e)},(0,c.zw)(e.size),9,k),(0,l._)("div",{class:"productSizeRadio",id:"size"+e.id,onClick:t=>o.productSizeToggle(e)},null,8,z)])))),128))])):(0,l.kq)("",!0)]),(0,l._)("div",b,[o.selectedSize?((0,l.wg)(),(0,l.iD)("div",w,[S,(0,l._)("small",null,(0,c.zw)(o.selectedSize.price),1),_])):(0,l.kq)("",!0),o.selectedSize?((0,l.wg)(),(0,l.iD)("div",C,["فله"==o.selectedSize.size?((0,l.wg)(),(0,l.iD)("label",h,"وزن")):((0,l.wg)(),(0,l.iD)("label",q,"تعداد")),(0,l._)("div",x,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.quantity=e),type:"number",class:"form-control me-3"},null,512),[[d.nr,o.quantity]]),"فله"==o.selectedSize.size?((0,l.wg)(),(0,l.iD)("p",D,"کیلویی")):((0,l.wg)(),(0,l.iD)("p",P,"بسته"))])])):(0,l.kq)("",!0)]),(0,l._)("div",R,[(0,l._)("button",{class:"btn-orange2",onClick:t[1]||(t[1]=(...e)=>o.addToCart&&o.addToCart(...e))},"افزودن به سبد"),(0,l.Wm)(F,{to:"/cart",class:"btn-black2 pt-2"},{default:(0,l.w5)((()=>[(0,l.Uk)("سبد خرید")])),_:1})])]),o.quantity?((0,l.wg)(),(0,l.iD)("div",L,[(0,l._)("div",E,[(0,l._)("div",T,[(0,l._)("div",A,[o.quantity&&"فله"!=o.selectedSize?.size?((0,l.wg)(),(0,l.iD)("p",H,(0,c.zw)(o.quantity)+" بسته "+(0,c.zw)(o.selectedCategory?.title)+" "+(0,c.zw)(o.selectedProduct?.title)+" "+(0,c.zw)(o.selectedSize?.size),1)):(0,l.kq)("",!0),o.quantity&&"فله"==o.selectedSize?.size?((0,l.wg)(),(0,l.iD)("p",j,(0,c.zw)(o.quantity)+" کیلو "+(0,c.zw)(o.selectedCategory?.title)+" "+(0,c.zw)(o.selectedProduct?.title)+" "+(0,c.zw)(o.selectedSize?.size),1)):(0,l.kq)("",!0),U,Y]),(0,l._)("div",B,[(0,l._)("button",{type:"button",class:"btn-black-rect my-3",onClick:t[2]||(t[2]=(...e)=>o.clearSelection&&o.clearSelection(...e)),style:{width:"100px",height:"40px"},"data-bs-dismiss":"modal"},"تائید")])])])])):(0,l.kq)("",!0)],64)}var K=a(4870),F=a(65),G={name:"Products",setup(){const e=(0,F.oR)(),t=e.state.panelUrl,a=()=>{e.commit("getProductCats"),console.log(e.state)};(0,l.bv)((()=>{a()}));const c=(0,K.iH)(),d=(0,K.iH)(),o=(0,K.iH)(),i=(0,K.iH)(),s=e=>{document.querySelectorAll(".productCat").forEach((e=>{e.classList.remove("activeProductCat")})),document.querySelector("#category"+e.id).classList.add("activeProductCat"),c.value=e,document.querySelectorAll(".productRadio").forEach((e=>{e.classList.remove("activeProductRadio")})),d.value=null,document.querySelectorAll(".productSizeRadio").forEach((e=>{e.classList.remove("activeProductSizeRadio")})),o.value=null,i.value=null},r=e=>{document.querySelectorAll(".productRadio").forEach((e=>{e.classList.remove("activeProductRadio")})),document.querySelector("#product"+e.id).classList.add("activeProductRadio"),d.value=e,document.querySelectorAll(".productSizeRadio").forEach((e=>{e.classList.remove("activeProductSizeRadio")})),o.value=null,i.value=null},u=e=>{document.querySelectorAll(".productSizeRadio").forEach((e=>{e.classList.remove("activeProductSizeRadio")})),document.querySelector("#size"+e.id).classList.add("activeProductSizeRadio"),o.value=e,i.value=null},n=()=>{null!=i.value?axios.post(e.state.panelUrl+"/api/order",{user_id:JSON.parse(localStorage.getItem("user")).id,product_id:d.value.id,product_size_id:o.value.id,price:o.value.price,quantity:i.value}).then((e=>{let t=new bootstrap.Modal(document.getElementById("add-to-cart-modal"));t.show()})).catch((e=>{console.error(e)})):alert("لطفا مراحل سفارش را کامل کنید")},p=()=>{document.querySelectorAll(".productCat").forEach((e=>{e.classList.remove("activeProductCat")})),document.querySelectorAll(".productRadio").forEach((e=>{e.classList.remove("activeProductRadio")})),document.querySelectorAll(".productSizeRadio").forEach((e=>{e.classList.remove("activeProductSizeRadio")})),c.value=null,d.value=null,o.value=null};return{categoryToggle:s,productToggle:r,productSizeToggle:u,getData:a,addToCart:n,store:e,panelUrl:t,clearSelection:p,data:(0,l.Fl)((()=>e.state.productsCats)),selectedCategory:c,selectedProduct:d,selectedSize:o,quantity:i}}},J=a(89);const M=(0,J.Z)(G,[["render",I],["__scopeId","data-v-52f86aa3"]]);var N=M}}]);
//# sourceMappingURL=products.dcee45db.js.map