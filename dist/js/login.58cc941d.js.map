{"version":3,"file":"js/login.58cc941d.js","mappings":"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","sources":["webpack://copa-bee/./src/views/Login.vue","webpack://copa-bee/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"w-100 my-padding text-light\" style=\"background: url('/img/loginBack.svg') top center no-repeat; background-size: cover\">\r\n\r\n    <div class=\"text-center\">\r\n      <img src=\"/img/Beelogo.png\" style=\"width: 160px\" class=\"my-5\" alt=\"\">\r\n    </div>\r\n    <h3 class=\"my-color my-3\">ورود</h3>\r\n\r\n    <div id=\"mobileForm\" class=\"mb-3\">\r\n      <label for=\"mobile\" class=\"text-light mb-2 pointer\">شماره تماس</label>\r\n\r\n      <div class=\"d-flex bg-light\">\r\n        <button class=\"btn-code\" @click=\"getCode\">دریافت کد</button>\r\n        <input id=\"mobile\" type=\"number\" maxlength=\"11\" minlength=\"11\" class=\"en form-control bg-transparent border-0\">\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!--    -->\r\n    <div id=\"codeForm\" class=\"row pb-4 d-none\">\r\n      <p class=\"text-light mt-5\">کد تایید را وارد نمایید</p>\r\n      <div class=\"d-flex justify-content-center mb-3\" dir=\"ltr\">\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code1\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code2\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\"  minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code3\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 93px; height: 85px;background: url('/img/input.png') top center no-repeat; background-size: 100% \">\r\n          <input type=\"text\" id=\"code4\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n      </div>\r\n      <small class=\"d-flex\">\r\n        <span id=\"resend\">دریافت مجدد کد در</span>\r\n        <span id=\"time\" style=\"width: 35px !important; text-align: center\" class=\"my-color time\"></span>\r\n        ثانیه\r\n      </small>\r\n\r\n    </div>\r\n    <div class=\"text-start\">\r\n      <li class=\"error\" v-for=\"item in message\"><span >{{ item }}</span></li>\r\n    </div>\r\n\r\n    <p class=\"mt-5\">در صورت عدم ثبت اطلاعات خود، لطفا اینجا <router-link to=\"/register\" class=\"text-info\">ثبت نام</router-link> کنید</p>\r\n<!--    <div dir=\"ltr\">-->\r\n<!--      <div class=\"d-flex mb-2\">-->\r\n<!--        <img src=\"/img/phoneLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">-->\r\n<!--        <small>09300432833</small>-->\r\n<!--      </div>-->\r\n<!--      <div class=\"d-flex mb-2\">-->\r\n<!--        <img src=\"/img/emailLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">-->\r\n<!--        <small>copabee.example@gmail.com</small>-->\r\n<!--      </div>-->\r\n<!--      <div class=\"d-flex mb-2\">-->\r\n<!--        <img src=\"/img/whatsappLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">-->\r\n<!--        <small>09300432833</small>-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  setup() {\r\n    onMounted(()=>{\r\n      // localStorage.clear();\r\n    });\r\n    const store = useStore();\r\n    const scope= ref('user');\r\n    const errors= ref([]);\r\n    const message= ref([]);\r\n    const mobile = ref();\r\n    const time = ref(59);\r\n    onMounted(() => {\r\n      document.getElementById(\"code1\").value = '';\r\n      document.getElementById(\"code2\").value = '';\r\n      document.getElementById(\"code3\").value = '';\r\n      document.getElementById(\"code4\").value = '';\r\n    });\r\n    const getCode = () => {\r\n      message.value = [];\r\n      mobile.value = document.getElementById('mobile').value;\r\n      if(mobile.value.length === 0){\r\n        message.value.push('لطفا شماره موبایل را وارد کنید');\r\n      }else{\r\n        if (mobile.value.length  < 11){\r\n          message.value.push('شماره موبایل باید 11 رقم باشد');\r\n        }\r\n        if(!mobile.value.startsWith('09')){\r\n          message.value.push('شماره موبایل باید با 09 شروع شود');\r\n        }\r\n      }\r\n\r\n\r\n      if(mobile.value.length === 11 && mobile.value.startsWith('09')){\r\n        message.value = [];\r\n        axios.post('https://panel.asal.webagent.ir/api/otp/mobile', {\r\n          mobile: document.getElementById('mobile').value,\r\n          scope: 'user'\r\n        }, {progress: false})\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                document.getElementById('mobileForm').classList.add('d-none');\r\n                document.getElementById('codeForm').classList.remove('d-none');\r\n              }else{\r\n                // message.value = res;\r\n                console.log(res)\r\n              }\r\n            })\r\n            .then(()=>{\r\n              document.getElementById('resend').setAttribute('disabled', 'disabled')\r\n              counter();\r\n              setTimeout(()=>{\r\n                document.getElementById('resend').removeAttribute('disabled')\r\n              },60000)\r\n            })\r\n            .catch((err) => {\r\n              console.error(err)\r\n              message.value = err.response.data.message;\r\n            })\r\n      }\r\n\r\n    }\r\n\r\n    const editNumber = ()=>{\r\n      location.reload();\r\n    }\r\n    const resend = ()=>{\r\n\r\n      getCode();\r\n    }\r\n    const counter=()=> {\r\n\r\n      var distance = 59;\r\n      var x = null;\r\n      clearInterval(x);\r\n      time.value = 0;\r\n      x = setInterval(function () {\r\n\r\n        // document.getElementById(\"time\").classList.remove('d-none');\r\n\r\n\r\n        distance--;\r\n        time.value = distance;\r\n        var t = time.value  < 10 ? \"0\" : \"\";\r\n        document.getElementById(\"time\").innerHTML = t + time.value ;\r\n\r\n        if (distance < 1) {\r\n          clearInterval(x);\r\n          // document.getElementById(\"time\").classList.add('d-none');\r\n\r\n        }\r\n      }, 1000);\r\n\r\n      time.value = 0;\r\n      // if(time.value === 0){\r\n      //   document.getElementById('resend').removeAttribute('disabled')\r\n      // }\r\n\r\n    }\r\n    const autoTab = (e) => {\r\n      let code =\r\n          document.getElementById(\"code1\").value +\r\n          document.getElementById(\"code2\").value +\r\n          document.getElementById(\"code3\").value +\r\n          document.getElementById(\"code4\").value;\r\n\r\n      if (code.length === 4) {\r\n\r\n        axios.post('https://panel.asal.webagent.ir/api/mobile/login', {\r\n          mobile: document.getElementById('mobile').value,\r\n          scope: 'user',\r\n          password: document.getElementById(\"code1\").value + document.getElementById(\"code2\").value + document.getElementById(\"code3\").value + document.getElementById(\"code4\").value\r\n        })\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                localStorage.setItem('user',JSON.stringify(res.data.user))\r\n                localStorage.setItem('token',JSON.stringify(res.data.access_token))\r\n                localStorage.setItem('expire',JSON.stringify(res.data.expire));\r\n                window.location = '/profile';\r\n              }else{\r\n                console.log(res)\r\n              }\r\n            }).catch((err) => {\r\n          message.value = err.response.data.message;\r\n        })\r\n\r\n      }\r\n\r\n      if (e.target.value.length === e.target.maxLength) {\r\n        e.target.parentElement.nextElementSibling?.firstChild?.focus();\r\n      }\r\n    }\r\n\r\n    onMounted(()=>{\r\n      console.log(localStorage);\r\n\r\n    })\r\n    return {\r\n      autoTab, getCode, scope, message, mobile, counter, time, resend, editNumber, errors, store,\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=74bddcf2\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","alt","id","for","type","maxlength","minlength","dir","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","args","$setup","getCode","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","onInput","$event","autoTab","minLength","maxLength","min","max","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_Fragment","_renderList","message","item","_hoisted_17","_toDisplayString","_hoisted_18","_createVNode","_component_router_link","to","name","setup","onMounted","store","useStore","scope","ref","errors","mobile","time","document","getElementById","value","length","push","startsWith","axios","post","progress","then","res","status","classList","add","remove","console","log","setAttribute","counter","setTimeout","removeAttribute","catch","err","error","response","data","editNumber","location","reload","resend","distance","x","clearInterval","setInterval","t","innerHTML","e","code","password","localStorage","setItem","JSON","stringify","user","access_token","expire","window","target","parentElement","nextElementSibling","firstChild","focus","__exports__","render"],"sourceRoot":""}