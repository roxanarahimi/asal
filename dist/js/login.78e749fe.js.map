{"version":3,"file":"js/login.78e749fe.js","mappings":"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","sources":["webpack://copa-bee/./src/views/Login.vue","webpack://copa-bee/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"w-100 px-3 text-light\" style=\"background: url('/img/loginBack.svg') top center no-repeat; background-size: cover\">\r\n\r\n    <div class=\"text-center\">\r\n      <img src=\"/img/BeeLogo.png\" style=\"width: 160px\" class=\"my-5\" alt=\"\">\r\n    </div>\r\n    <h3 class=\"my-color my-3\">ورود</h3>\r\n\r\n    <div id=\"mobileForm\" class=\"mb-3\">\r\n      <label for=\"mobile\" class=\"text-light mb-2 pointer\">شماره تماس</label>\r\n\r\n      <div class=\"d-flex bg-light\">\r\n        <button class=\"btn-code\" @click=\"getCode\">دریافت کد</button>\r\n        <input id=\"mobile\" type=\"number\" maxlength=\"11\" minlength=\"11\" class=\"en form-control bg-transparent border-0\">\r\n      </div>\r\n    </div>\r\n<!--    d-none-->\r\n    <div id=\"codeForm\" class=\"row pb-4 \">\r\n      <p class=\"text-light mt-5\">کد تایید را وارد نمایید</p>\r\n      <div class=\"d-flex justify-content-center\" dir=\"ltr\">\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 100px; height: 120px;background: url('/img/input.png') top center no-repeat; background-size: cover \">\r\n          <input type=\"text\" id=\"code1\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 100px; height: 120px;background: url('/img/input.png') top center no-repeat; background-size: cover \">\r\n          <input type=\"text\" id=\"code2\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\"  minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 100px; height: 120px;background: url('/img/input.png') top center no-repeat; background-size: cover \">\r\n          <input type=\"text\" id=\"code3\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\" display: grid; width: 100px; height: 120px;background: url('/img/input.png') top center no-repeat; background-size: cover \">\r\n          <input type=\"text\" id=\"code4\" @input=\"autoTab($event)\" class=\"w-100 align-self-center text-center bg-transparent border-0 text-light form-control\" minLength=\"1\" maxLength=\"1\" min=\"0\" max=\"9\">\r\n        </div>\r\n      </div>\r\n      <small >دریافت مجدد کد در<span class=\"my-color time\">00:30</span></small>\r\n    </div>\r\n\r\n    <div class=\"text-start\">\r\n      <li v-for=\"item in message\"><small>{{ item }}</small></li>\r\n    </div>\r\n\r\n    <p class=\"mt-5\">در صورت عدم ثبت  اطلاعات خود، از راه های ارتباطی زیر اقدام نمایید</p>\r\n    <div dir=\"ltr\">\r\n      <div class=\"d-flex mb-2\">\r\n        <img src=\"/img/phoneLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">\r\n        <small>09300432833</small>\r\n      </div>\r\n      <div class=\"d-flex mb-2\">\r\n        <img src=\"/img/emailLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">\r\n        <small>copabee.example@gmail.com</small>\r\n      </div>\r\n      <div class=\"d-flex mb-2\">\r\n        <img src=\"/img/whatsappLogo.png\" class=\"mx-2\" width=\"20px\" alt=\"\">\r\n        <small>09300432833</small>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  setup() {\r\n    onMounted(()=>{\r\n      localStorage.clear();\r\n    });\r\n    const store = useStore();\r\n    const scope= ref('user');\r\n    const errors= ref([]);\r\n    const message= ref([]);\r\n    const mobile = ref();\r\n    const time = ref(59);\r\n    onMounted(() => {\r\n      document.getElementById(\"code1\").value = '';\r\n      document.getElementById(\"code2\").value = '';\r\n      document.getElementById(\"code3\").value = '';\r\n      document.getElementById(\"code4\").value = '';\r\n    });\r\n    const getCode = () => {\r\n\r\n      message.value = [];\r\n      mobile.value = document.getElementById('mobile').value;\r\n      if(mobile.value.length === 0){\r\n        message.value.push('لطفا شماره موبایل را وارد کنید');\r\n      }else{\r\n        if (mobile.value.length  < 11){\r\n          message.value.push('شماره موبایل باید 11 رقم باشد');\r\n        }\r\n        if(!mobile.value.startsWith('09')){\r\n          message.value.push('شماره موبایل باید با 09 شروع شود');\r\n        }\r\n      }\r\n\r\n\r\n      if(mobile.value.length === 11 && mobile.value.startsWith('09')){\r\n        message.value = [];\r\n        axios.post('/api/otp/mobile', {\r\n          mobile: document.getElementById('mobile').value,\r\n          scope: 'user'\r\n        }, {progress: false})\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                document.getElementById('mobileForm').classList.add('d-none');\r\n                document.getElementById('codeForm').classList.remove('d-none');\r\n              }else{\r\n                // message.value = res;\r\n                console.log(res)\r\n              }\r\n            })\r\n            .then(()=>{\r\n              document.getElementById('resend').setAttribute('disabled', 'disabled')\r\n              counter();\r\n              setTimeout(()=>{\r\n                document.getElementById('resend').removeAttribute('disabled')\r\n              },60000)\r\n            })\r\n            .catch((err) => {\r\n              message.value = err.response.data.message;\r\n            })\r\n      }\r\n\r\n    }\r\n\r\n    const editNumber = ()=>{\r\n      location.reload();\r\n    }\r\n    const resend = ()=>{\r\n\r\n      getCode();\r\n    }\r\n    const counter=()=> {\r\n\r\n      var distance = 59;\r\n      var x = null;\r\n      clearInterval(x);\r\n      time.value = 0;\r\n      x = setInterval(function () {\r\n\r\n        // document.getElementById(\"time\").classList.remove('d-none');\r\n\r\n\r\n        distance--;\r\n        time.value = distance;\r\n        var t = time.value  < 10 ? \"0\" : \"\";\r\n        document.getElementById(\"time\").innerHTML = t + time.value ;\r\n\r\n        if (distance < 1) {\r\n          clearInterval(x);\r\n          // document.getElementById(\"time\").classList.add('d-none');\r\n\r\n        }\r\n      }, 1000);\r\n\r\n      time.value = 0;\r\n      // if(time.value === 0){\r\n      //   document.getElementById('resend').removeAttribute('disabled')\r\n      // }\r\n\r\n    }\r\n    const autoTab = (e) => {\r\n      let code =\r\n          document.getElementById(\"code1\").value +\r\n          document.getElementById(\"code2\").value +\r\n          document.getElementById(\"code3\").value +\r\n          document.getElementById(\"code4\").value;\r\n\r\n      if (code.length === 4) {\r\n\r\n        axios.post('/api/mobile/login', {\r\n          mobile: document.getElementById('mobile').value,\r\n          scope: 'user',\r\n          password: document.getElementById(\"code1\").value + document.getElementById(\"code2\").value + document.getElementById(\"code3\").value + document.getElementById(\"code4\").value\r\n        })\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                localStorage.setItem('user',JSON.stringify(res.data.user))\r\n                localStorage.setItem('token',JSON.stringify(res.data.access_token))\r\n                localStorage.setItem('scope',JSON.stringify(res.data.scope))\r\n                localStorage.setItem('expire',JSON.stringify(res.data.expire));\r\n                console.log(localStorage)\r\n                window.location = '/';\r\n              }else{\r\n                console.log(res)\r\n              }\r\n            }).catch((err) => {\r\n          message.value = err.response.data.message;\r\n        })\r\n\r\n      }\r\n\r\n      if (e.target.value.length === e.target.maxLength) {\r\n        e.target.parentElement.nextElementSibling?.firstChild?.focus();\r\n      }\r\n    }\r\n\r\n    return {\r\n      autoTab, getCode, scope, message, mobile, counter, time, resend, editNumber, errors, store,\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=0abfd078\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","alt","id","for","type","maxlength","minlength","dir","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","args","$setup","getCode","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","onInput","$event","autoTab","minLength","maxLength","min","max","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_Fragment","_renderList","message","item","_toDisplayString","_hoisted_17","name","setup","onMounted","localStorage","clear","store","useStore","scope","ref","errors","mobile","time","document","getElementById","value","length","push","startsWith","axios","post","progress","then","res","status","classList","add","remove","console","log","setAttribute","counter","setTimeout","removeAttribute","catch","err","response","data","editNumber","location","reload","resend","distance","x","clearInterval","setInterval","t","innerHTML","e","code","password","setItem","JSON","stringify","user","access_token","expire","window","target","parentElement","nextElementSibling","firstChild","focus","__exports__","render"],"sourceRoot":""}