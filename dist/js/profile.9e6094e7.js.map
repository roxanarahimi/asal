{"version":3,"file":"js/profile.9e6094e7.js","mappings":"mLACMA,MAAM,sB,GACTC,EAAAA,EAAAA,GAA8B,UAA1B,yBAAqB,G,GAAzBC,G,0CADFC,EAAAA,EAAAA,IAEM,MAFNC,EAEMC,E,yBASP,GACEC,KAAM,UACNC,KAAAA,GACE,MAAMC,GAAOC,EAAAA,EAAAA,OACbC,EAAAA,EAAAA,KAAU,KACRF,EAAKG,MAAQC,KAAKC,MAAMC,aAAaC,QAAQ,SACzCP,EAAKQ,KACPC,OAAOC,SAAS,KAElBC,GAAgB,IAElB,MAAMA,EAAiBA,KACjBL,aAAaC,QAAQ,SACvBK,MAAMC,IAAIC,EAAAA,EAAIf,QAAQgB,IAAM,aAAeX,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,IAC/EQ,MAAKC,UAEoB,MAApBC,EAASC,QAA0C,SAAxBD,EAASE,KAAKC,cACrCf,aAAagB,QAAQ,OAAQlB,KAAKmB,UAAUL,EAASE,OAC3DpB,EAAKG,MAAQe,EAASE,KAExB,IAEDJ,MAAK,UAGmCQ,IAAnCC,KAAKzB,MAAM0B,MAAMC,OAAOC,QAA2D,IAAnCH,KAAKzB,MAAM0B,MAAMC,OAAOC,OAC1EC,SAASC,eAAe,cAAcC,UAAY,GAElDF,SAASC,eAAe,cAAcC,UAAYN,KAAKzB,MAAM0B,MAAMC,OAAOC,MAE5E,IAYDI,OAAOC,IACNC,QAAQC,IAAIF,EAAM,GAE1B,EAGF,MAAO,CACLtB,iBAAgBX,OAEpB,G,QC1DF,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://copa-bee/./src/views/Profile.vue","webpack://copa-bee/./src/views/Profile.vue?24e8"],"sourcesContent":["<template>\r\n <div class=\"p-5 m-5 text-light\">\r\n   <h5>کاربر گرامی خوش آمدید</h5>\r\n </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport App from \"@/App.vue\";\r\n\r\nexport default {\r\n  name: \"Profile\",\r\n  setup() {\r\n    const user = ref();\r\n    onMounted(() => {\r\n      user.value = JSON.parse(localStorage.getItem('user'))\r\n      if(!user.id){\r\n        window.location='/';\r\n      }\r\n      updateUserInfo();\r\n    })\r\n    const updateUserInfo = () => {\r\n      if (localStorage.getItem('user')) {\r\n        axios.get(App.setup().url + '/api/user/' + JSON.parse(localStorage.getItem('user')).id)\r\n            .then(async (response) => {\r\n\r\n              if (response.status === 200 && response.data.scope === 'user') {\r\n                await localStorage.setItem('user', JSON.stringify(response.data));\r\n                user.value = response.data;\r\n\r\n              }\r\n            })\r\n            .then(() => {\r\n              // if(this.user?.cart?.items?.length) {\r\n              // document.getElementById('cart_count').classList.remove('d-none')\r\n              if (this.user?.cart?.items?.length === undefined || this.user?.cart?.items?.length === 0) {\r\n                document.getElementById('cart_count').innerHTML = '';\r\n              } else {\r\n                document.getElementById('cart_count').innerHTML = this.user?.cart?.items?.length;\r\n\r\n              }\r\n              // }  // }else{\r\n              //     document.getElementById('cart_count').classList.add('d-none')\r\n              // }\r\n              // if (this.user){\r\n              //     console.log(this.user);\r\n              //     console.log(this.user.cart);\r\n              //     console.log(this.user.cart.items);\r\n              //     console.log(this.user.cart.items?.length);\r\n              //     console.log(this.user.cart-items-count);\r\n              // }\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            })\r\n      }\r\n\r\n    }\r\n    return {\r\n      updateUserInfo, user\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Profile.vue?vue&type=template&id=6735c69e\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","name","setup","user","ref","onMounted","value","JSON","parse","localStorage","getItem","id","window","location","updateUserInfo","axios","get","App","url","then","async","response","status","data","scope","setItem","stringify","undefined","this","cart","items","length","document","getElementById","innerHTML","catch","error","console","log","__exports__","render"],"sourceRoot":""}